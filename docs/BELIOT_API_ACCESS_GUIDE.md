# Руководство по доступу к Beliot API

## Текущая ситуация

API `https://beliot.by:4443/api/documentation` **недоступен из внешней сети**.

Ошибка: `ECONNREFUSED 93.125.18.138:4443`

## Что делать

### Вариант 1: Доступ через VPN/внутреннюю сеть

1. **Подключитесь к корпоративной VPN** (если требуется)
2. **Проверьте доступность:**
   ```bash
   curl -k https://beliot.by:4443/api/documentation
   ```
3. **Если доступен, откройте в браузере:**
   ```
   https://beliot.by:4443/api/documentation
   ```
4. **Примите предупреждение о самоподписанном сертификате**

### Вариант 2: Получение документации от команды

1. **Свяжитесь с командой разработки/поддержки Beliot API**
2. **Запросите:**
   - Swagger/OpenAPI спецификацию (JSON или YAML файл)
   - Документацию по endpoints
   - Информацию о доступе (VPN, credentials)
   - Примеры запросов

### Вариант 3: Использование скрипта тестирования

После получения доступа, используйте скрипт для анализа:

```bash
node scripts/test-beliot-api.cjs
```

Скрипт автоматически проверит все возможные endpoints и определит:
- Какие endpoints доступны
- Формат ответов (JSON, YAML, HTML)
- Структуру Swagger/OpenAPI спецификации

## Когда API станет доступен

### Шаги для интеграции:

1. **Получить Swagger спецификацию**
   - Через браузер (Swagger UI)
   - Через прямой URL к JSON файлу
   - От команды разработки

2. **Изучить структуру API**
   - Какие endpoints доступны
   - Какие методы поддерживаются (GET, POST, PUT, DELETE)
   - Какие параметры требуются
   - Формат запросов и ответов

3. **Определить необходимые endpoints**
   - Получение списка оборудования
   - Получение информации об оборудовании
   - Журнал обслуживания
   - Добавление записей в журнал

4. **Создать API клиент**
   - Функции для работы с каждым endpoint
   - Обработка ошибок
   - Аутентификация (если требуется)

5. **Интегрировать в проект**
   - Заменить или дополнить Google Apps Script API
   - Обновить компоненты для использования нового API
   - Добавить fallback на старый API

## Структура будущей интеграции

```
src/services/api/
├── beliotApi.ts          # API клиент для Beliot
│   ├── getSwaggerSpec()  # Получение спецификации
│   ├── getEquipment()    # Получение оборудования
│   ├── getMaintenanceLog() # Журнал обслуживания
│   └── ...
├── apiRequest.ts         # Существующий клиент (Google Apps Script)
└── ...

src/config/
└── api.ts                # Конфигурация обоих API
    ├── BELIOT_API_URL
    ├── BELIOT_API_KEY
    └── USE_BELIOT_API (флаг переключения)
```

## Временное решение

Пока API недоступен, можно:

1. **Подготовить структуру кода** для будущей интеграции
2. **Создать mock данные** для тестирования UI
3. **Написать документацию** по планируемой интеграции
4. **Подготовить тесты** для API клиента

## Контакты

Для получения доступа к API обратитесь к:
- Команде разработки Beliot
- Системному администратору
- Ответственному за API

## Примечания

- API использует самоподписанный SSL сертификат
- Порт 4443 нестандартный для HTTPS
- Вероятно, требуется доступ из внутренней сети
- Может потребоваться аутентификация

