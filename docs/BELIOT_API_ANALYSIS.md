# Анализ Beliot API

## Обзор

URL: `https://beliot.by:4443/api/documentation`

Это API документация внешнего сервиса beliot.by на порту 4443.

## Технические детали

### Домен и порт
- **Домен**: `beliot.by` - белорусский домен
- **Порт**: `4443` - нестандартный HTTPS порт
- **Протокол**: HTTPS (с самоподписанным сертификатом, вероятно)

### Структура URL
```
https://beliot.by:4443/api/documentation
```

Путь `/api/documentation` указывает на:
- Swagger UI интерфейс
- OpenAPI/Swagger спецификацию
- REST API документацию

## Возможные варианты API

### Вариант 1: Swagger/OpenAPI документация
Если это стандартная Swagger документация, то:
- `/api/documentation` - HTML интерфейс Swagger UI
- `/api/swagger.json` - JSON спецификация (Swagger 2.0)
- `/api/openapi.json` - JSON спецификация (OpenAPI 3.x)

### Вариант 2: Кастомная документация
Может быть кастомная система документации API.

## Проблемы доступа

### Соединение отклонено
При попытке подключения получена ошибка:
```
Failed to connect to beliot.by port 4443: Connection refused
ECONNREFUSED 93.125.18.138:4443
```

**IP адрес сервера:** `93.125.18.138`

**Возможные причины:**
1. ✅ **Сервер доступен только из внутренней сети/VPN** (наиболее вероятно)
2. Порт 4443 заблокирован файрволом
3. Сервер временно недоступен
4. Требуется специальная авторизация для доступа
5. Сервер работает только в определенное время

### Результаты тестирования

Протестированы следующие endpoints:
- ❌ `/api/documentation` - Connection refused
- ❌ `/api/swagger.json` - Connection refused
- ❌ `/api/openapi.json` - Connection refused
- ❌ `/api/api-docs` - Connection refused
- ❌ `/api/v1/swagger.json` - Connection refused
- ❌ `/api/v1/openapi.json` - Connection refused

**Все endpoints недоступны из внешней сети.**

### SSL сертификат
Порт 4443 часто используется для:
- Внутренних API с самоподписанными сертификатами
- Тестовых/разработческих сред
- Специальных сервисов, требующих дополнительной настройки

## Рекомендации по работе с API

### 1. Проверка доступности
```bash
# Проверка доступности сервера
curl -k -v https://beliot.by:4443/api/documentation

# Попытка получить JSON спецификацию
curl -k https://beliot.by:4443/api/swagger.json
curl -k https://beliot.by:4443/api/openapi.json
```

### 2. Если доступен только из браузера
- Откройте `https://beliot.by:4443/api/documentation` в браузере
- Примите предупреждение о самоподписанном сертификате
- Найдите кнопку "Download" или "Export" для получения JSON
- Или найдите прямой URL к JSON спецификации

### 3. Если требуется VPN
- Подключитесь к корпоративной VPN
- Повторите попытки подключения

## Интеграция в проект

### Варианты использования

1. **Замена Google Apps Script**
   - Если API предоставляет те же функции
   - Более надежная инфраструктура
   - Лучшая производительность

2. **Дополнительный источник данных**
   - Синхронизация данных между системами
   - Получение дополнительной информации об оборудовании

3. **Резервный источник**
   - Fallback если Google Apps Script недоступен

### Структура интеграции

```
src/services/api/
├── beliotApi.ts          # API клиент для Beliot
├── apiRequest.ts         # Существующий клиент (Google Apps Script)
└── ...

src/config/
└── api.ts                # Конфигурация обоих API
```

## Следующие шаги

1. ✅ Создана ветка `feature/beliot-api-integration`
2. ⏳ Получить доступ к API документации
3. ⏳ Изучить структуру endpoints
4. ⏳ Определить необходимые endpoints для проекта
5. ⏳ Реализовать API клиент
6. ⏳ Интегрировать в существующие компоненты

## Примечания

- API может требовать аутентификацию
- Возможны ограничения CORS
- Самоподписанный SSL сертификат может вызывать проблемы в браузере
- Рекомендуется тестирование из браузера с принятием сертификата

