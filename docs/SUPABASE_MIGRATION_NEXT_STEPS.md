# –ü–ª–∞–Ω –¥–∞–ª—å–Ω–µ–π—à–∏—Ö —à–∞–≥–æ–≤ –ø–æ –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ Supabase

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Supabase
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (`docs/supabase-schema.sql`)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω –∫–ª–∏–µ–Ω—Ç Supabase (`src/config/supabase.ts`)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –∏ —Ä–æ–ª—è–º–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é —Ä–æ–ª–µ–π (`docs/ADMIN_ROLE_ASSIGNMENT.md`)

### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã: `profiles`, `user_app_access`, `login_history`, `beliot_device_overrides`
- ‚úÖ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –§—É–Ω–∫—Ü–∏–∏ –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É)

### –≠—Ç–∞–ø 1: –ú–∏–≥—Ä–∞—Ü–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–ö–†–ò–¢–ò–ß–ù–û) ‚è±Ô∏è 3-5 –¥–Ω–µ–π

#### 1.1. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ API –¥–ª—è Supabase Auth

**–§–∞–π–ª:** `src/services/api/supabaseAuthApi.ts`

```typescript
import { supabase } from '../../config/supabase';
import type { RegisterData, LoginData, User } from '../../types/user';
import type { LoginHistoryEntry } from '../../types/auth';

/**
 * –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 */
export async function register(data: RegisterData): Promise<{ user: User }> {
  // 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ Supabase Auth
  // 2. –ü—Ä–æ—Ñ–∏–ª—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ —Ç—Ä–∏–≥–≥–µ—Ä handle_new_user()
  // 3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ log_login()
  // 4. –í–æ–∑–≤—Ä–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
}

/**
 * –í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 */
export async function login(data: LoginData): Promise<{ user: User }> {
  // 1. –í—Ö–æ–¥ —á–µ—Ä–µ–∑ supabase.auth.signInWithPassword()
  // 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –∏–∑ —Ç–∞–±–ª–∏—Ü—ã profiles
  // 3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ log_login()
  // 4. –í–æ–∑–≤—Ä–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
}

/**
 * –í—ã—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 */
export async function logout(): Promise<void> {
  // supabase.auth.signOut()
}

/**
 * –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 */
export async function getCurrentUser(): Promise<User | null> {
  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å getCurrentProfile() –∏–∑ supabase.ts
}

/**
 * –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–∏
 */
export async function checkSession(): Promise<{
  active: boolean;
  remainingTime?: number;
}> {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ supabase.auth.getSession()
}
```

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `src/services/api/supabaseAuthApi.ts`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Ñ—É–Ω–∫—Ü–∏–µ–π `log_login()` –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ –≤—Ö–æ–¥–æ–≤
- [ ] –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫–∏ –∏ edge cases

#### 1.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ AuthContext –¥–ª—è Supabase

**–§–∞–π–ª:** `src/contexts/AuthContext.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã `authApi` –Ω–∞ `supabaseAuthApi`
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `supabase.auth.onAuthStateChange()` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
- [ ] –£–±—Ä–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç `sessionStorage` (Supabase —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–µ—Å—Å–∏—è–º–∏)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Å—Å–∏–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `refreshUser()` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Supabase

**–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```typescript
// –ë–´–õ–û:
import { login as loginApi } from '../services/api/authApi';
import { saveSession, loadSession } from '../utils/sessionStorage';

// –°–¢–ê–ù–ï–¢:
import { login as loginApi } from '../services/api/supabaseAuthApi';
import { supabase } from '../config/supabase';

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Supabase session –≤–º–µ—Å—Ç–æ localStorage
useEffect(() => {
  const { data: { subscription } } = supabase.auth.onAuthStateChange(
    async (event, session) => {
      if (event === 'SIGNED_IN' && session) {
        const user = await getCurrentUser();
        setUser(user);
      } else if (event === 'SIGNED_OUT') {
        setUser(null);
      }
    }
  );
  
  return () => subscription.unsubscribe();
}, []);
```

#### 1.3. –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏:** `docs/migration-scripts/migrate-users-to-supabase.sql`

**–ó–∞–¥–∞—á–∏:**
- [ ] –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ Google Sheets
- [ ] –°–æ–∑–¥–∞—Ç—å SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –≤ Supabase
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª–∏ (–Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª–∏ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ)
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–æ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

**–í–∞–∂–Ω–æ:** –ü–∞—Ä–æ–ª–∏ –∏–∑ Google Sheets –Ω–µ–ª—å–∑—è –Ω–∞–ø—Ä—è–º—É—é –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å (—Ä–∞–∑–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è). –í–∞—Ä–∏–∞–Ω—Ç—ã:
1. –ü–æ–ø—Ä–æ—Å–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª–∏ —á–µ—Ä–µ–∑ "–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?"
2. –°–æ–∑–¥–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ email
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OAuth (Google) –¥–ª—è –≤—Ö–æ–¥–∞

---

### –≠—Ç–∞–ø 2: –ú–∏–≥—Ä–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º (–í–ê–ñ–ù–û) ‚è±Ô∏è 2-3 –¥–Ω—è

#### 2.1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ accessApi.ts

**–§–∞–π–ª:** `src/services/api/accessApi.ts`

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Google Apps Script API

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ Google Apps Script –Ω–∞ Supabase
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `user_app_access`
- [ ] –î–æ–±–∞–≤–∏—Ç—å JOIN —Å `profiles` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è email
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã (—É–±—Ä–∞—Ç—å email –∏–∑ UserAppAccess, –ø–æ–ª—É—á–∞—Ç—å —á–µ—Ä–µ–∑ JOIN)

**–ü—Ä–∏–º–µ—Ä:**
```typescript
export async function getAllUserAccess(): Promise<UserAppAccess[]> {
  const { data, error } = await supabase
    .from('user_app_access')
    .select(`
      *,
      profiles:user_id (
        email,
        name
      )
    `)
    .order('email');
  
  // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —É—á–µ—Ç–æ–º JOIN
}
```

**–ó–∞–¥–∞—á–∏:**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `getAllUserAccess()`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `getUserAccess(email)`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `updateUserAccess()`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

#### 2.2. –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–∞

**–ó–∞–¥–∞—á–∏:**
- [ ] –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ Google Sheets (–ª–∏—Å—Ç "–î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º")
- [ ] –°–æ–∑–¥–∞—Ç—å SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
- [ ] –°–≤—è–∑–∞—Ç—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —á–µ—Ä–µ–∑ `user_id` (–Ω–µ email!)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

---

### –≠—Ç–∞–ø 3: –ú–∏–≥—Ä–∞—Ü–∏—è Beliot —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (–í–ê–ñ–ù–û) ‚è±Ô∏è 2-3 –¥–Ω—è

#### 3.1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ beliotDevicesStorageApi.ts

**–§–∞–π–ª:** `src/services/api/beliotDevicesStorageApi.ts`

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Google Apps Script API –¥–ª—è overrides

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ Google Apps Script –Ω–∞ Supabase
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `beliot_device_overrides`
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤: localStorage > Supabase > Beliot API
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

**–ó–∞–¥–∞—á–∏:**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `getOverrides()`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `saveOverride()`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `deleteOverride()`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `syncOverrides()`

#### 3.2. –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö overrides

**–ó–∞–¥–∞—á–∏:**
- [ ] –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å overrides –∏–∑ Google Sheets
- [ ] –°–æ–∑–¥–∞—Ç—å SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å `device_id`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

---

### –≠—Ç–∞–ø 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü ‚è±Ô∏è 2-3 –¥–Ω—è

#### 4.1. –°—Ç—Ä–∞–Ω–∏—Ü—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–§–∞–π–ª—ã:**
- `src/pages/LoginPage.tsx`
- `src/pages/RegisterPage.tsx` (–µ—Å–ª–∏ –µ—Å—Ç—å)

**–ó–∞–¥–∞—á–∏:**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ñ–æ—Ä–º—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Supabase Auth
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ Supabase
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é
- [ ] –î–æ–±–∞–≤–∏—Ç—å "–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?" (Supabase –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è)

#### 4.2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

**–§–∞–π–ª—ã:**
- `src/pages/AccessSettingsPage.tsx`
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–ª—è–º–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)

**–ó–∞–¥–∞—á–∏:**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Supabase
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ `supabase.ts` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–ª—è–º–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å UI –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ä–æ–ª–µ–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º

#### 4.3. –ó–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤

**–§–∞–π–ª:** `src/App.tsx`

**–ó–∞–¥–∞—á–∏:**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `supabase.auth.getSession()` –≤–º–µ—Å—Ç–æ `loadSession()`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã

---

### –≠—Ç–∞–ø 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞ ‚è±Ô∏è 2-3 –¥–Ω—è

#### 5.1. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ó–∞–¥–∞—á–∏:**
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–ª—è–º–∏
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Beliot overrides
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –≤—Ö–æ–¥–æ–≤

#### 5.2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–ó–∞–¥–∞—á–∏:**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–æ–ª–µ–π
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ç–æ–∫–µ–Ω–æ–≤

#### 5.3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ó–∞–¥–∞—á–∏:**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å Google Apps Script (–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å Beliot API
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö

---

### –≠—Ç–∞–ø 6: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –æ–±—É—á–µ–Ω–∏–µ ‚è±Ô∏è 1-2 –¥–Ω—è

#### 6.1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–ó–∞–¥–∞—á–∏:**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å README.md
- [ ] –°–æ–∑–¥–∞—Ç—å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API
- [ ] –°–æ–∑–¥–∞—Ç—å FAQ –ø–æ Supabase

#### 6.2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞ (rollback plan)

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –º–∏–≥—Ä–∞—Ü–∏–∏

### –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –º–∏–≥—Ä–∞—Ü–∏–∏:

- [ ] Supabase –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] SQL —Å—Ö–µ–º–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ Supabase
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (`.env.local`)
- [ ] –ü–µ—Ä–≤—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–Ω —á–µ—Ä–µ–∑ SQL
- [ ] –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –¥–∞–Ω–Ω—ã—Ö Google Sheets —Å–æ–∑–¥–∞–Ω–∞
- [ ] –¢–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

### –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏:

- [ ] –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤–æ–π—Ç–∏
- [ ] –†–æ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Beliot overrides —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è
- [ ] –ò—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è
- [ ] Google Apps Script –¥–ª—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç)

---

## üîÑ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å–∏—Å—Ç–µ–º

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ü–µ—Ä–∏–æ–¥:** 1-2 –Ω–µ–¥–µ–ª–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã

1. **–ù–µ–¥–µ–ª—è 1:** –ú–∏–≥—Ä–∞—Ü–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - –ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≤ Supabase
   - –°—Ç–∞—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google Apps Script
   - –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Supabase

2. **–ù–µ–¥–µ–ª—è 2:** –ú–∏–≥—Ä–∞—Ü–∏—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
   - –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Supabase
   - –û—Ç–∫–ª—é—á–µ–Ω–∏–µ Google Apps Script –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑

**–ü–µ—Ä–∏–æ–¥:** 1-2 –¥–Ω—è (—Ç—Ä–µ–±—É–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏—Å—Ç–µ–º—ã)

1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
2. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
4. –ó–∞–ø—É—Å–∫

---

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### –†–∏—Å–∫ 1: –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** 
- –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∫–æ–ø–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

### –†–∏—Å–∫ 2: –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∞—Ä–æ–ª—è–º–∏
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?" –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ò–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ —á–µ—Ä–µ–∑ email

### –†–∏—Å–∫ 3: –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –Ω–µ–±–æ–ª—å—à–æ–π –≥—Ä—É–ø–ø–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –æ—Ç–∫–∞—Ç—É

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- ‚úÖ –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
- ‚úÖ –†–æ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- ‚úÖ Beliot overrides —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ —É—Ö—É–¥—à–∏–ª–∞—Å—å
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

1. **–ö–†–ò–¢–ò–ß–ù–û:** –ú–∏–≥—Ä–∞—Ü–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–≠—Ç–∞–ø 1)
2. **–í–ê–ñ–ù–û:** –ú–∏–≥—Ä–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º (–≠—Ç–∞–ø 2)
3. **–í–ê–ñ–ù–û:** –ú–∏–≥—Ä–∞—Ü–∏—è Beliot —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (–≠—Ç–∞–ø 3)
4. **–°–†–ï–î–ù–ï:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–≠—Ç–∞–ø 4)
5. **–ù–ò–ó–ö–û:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–≠—Ç–∞–ø 6)

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ Supabase Dashboard
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
5. –û–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Supabase

