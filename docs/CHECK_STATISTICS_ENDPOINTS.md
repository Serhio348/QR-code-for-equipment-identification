# –ü—Ä–æ–≤–µ—Ä–∫–∞ endpoints –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–∫–∞–∑–∞–Ω–∏–π

## üîç –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è endpoints —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:

```bash
npm run check-statistics
```

–°–∫—Ä–∏–ø—Ç:
1. –ü—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–ª–Ω—É—é OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –∏–∑ API
2. –ò—â–µ—Ç endpoints, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π (statistics, reports, summary, aggregate)
3. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ endpoints –¥–ª—è –ø–æ–∫–∞–∑–∞–Ω–∏–π
4. –í—ã–¥–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## üìã –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Swagger UI

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: https://beliot.by:4443/api/documentation
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã —á–µ—Ä–µ–∑ VPN (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

### –®–∞–≥ 2: –ò—â–∏—Ç–µ endpoints –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

–ò—â–∏—Ç–µ endpoints —Å –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:
- `statistic` / `statistics`
- `report` / `reports`
- `summary`
- `aggregate` / `aggregation`
- `analytics`
- `consumption`

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–≥–∏

–í Swagger UI endpoints —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —Ç–µ–≥–∞–º. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–≥–∏:
- `statistics`
- `reports`
- `analytics`
- `device:statistics`
- `device:reports`

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ endpoints –¥–ª—è –ø–æ–∫–∞–∑–∞–Ω–∏–π

–û—Å–Ω–æ–≤–Ω—ã–µ endpoints –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:
- `POST /api/device/messages` - –ø–æ–∫–∞–∑–∞–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- `POST /api/abonent/point/messages` - –ø–æ–∫–∞–∑–∞–Ω–∏—è –ø–æ —Ç–æ—á–∫–∞–º —É—á–µ—Ç–∞
- `POST /api/objects/accounting_point/messages` - –ø–æ–∫–∞–∑–∞–Ω–∏—è —Ç–æ—á–µ–∫ —É—á–µ—Ç–∞

## üì• –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª–Ω–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Swagger UI

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://beliot.by:4443/api/documentation
2. –ù–∞–π–¥–∏—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ JSON —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é (–æ–±—ã—á–Ω–æ –≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–ª–∏ –≤ –º–µ–Ω—é)
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ JSON —Ñ–∞–π–ª –∫–∞–∫ `docs/beliot-api-openapi.json`

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ URL (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è):
- `https://beliot.by:4443/docs/api-docs.json`
- `https://beliot.by:4443/api/swagger.json`
- `https://beliot.by:4443/api/openapi.json`

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

–°–∫—Ä–∏–ø—Ç `check-statistics-endpoints.ts` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–ª–Ω—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é.

## üîß –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

–ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–∞ –±–æ–ª–µ–µ –ø–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:

1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª–Ω—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ `docs/beliot-api-openapi.json`
2. –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ `docs/BELIOT_API_SPEC.md`
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ endpoints –≤ `docs/BELIOT_API_QUICK_REFERENCE.md`

## üìä –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã endpoints —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### –ï—Å–ª–∏ –µ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ endpoints

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω `POST /api/device/statistics`:

1. –î–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –≤ `src/services/api/beliotDeviceApi.ts`:

```typescript
/**
 * –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–∫–∞–∑–∞–Ω–∏–π —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
 * 
 * Endpoint: POST /api/device/statistics
 */
export async function getDeviceStatistics(
  deviceId: number,
  startDate: number,
  stopDate: number,
  token?: string
): Promise<any> {
  const authToken = await getAuthToken(token);
  
  const response = await beliotApiRequest(
    'device/statistics',
    'POST',
    {
      device_id: deviceId,
      startDate: startDate,
      stopDate: stopDate,
    },
    undefined,
    {
      'Authorization': `Bearer ${authToken}`,
    }
  );
  
  return response.data;
}
```

2. –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Å –ø—Ä–∏–º–µ—Ä–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ï—Å–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö endpoints –Ω–µ—Ç

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–æ–¥—Ö–æ–¥:
- –ü–æ–ª—É—á–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `POST /api/device/messages`
- –í—ã—á–∏—Å–ª—è–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

- [ ] –ó–∞–ø—É—â–µ–Ω —Å–∫—Ä–∏–ø—Ç `npm run check-statistics`
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –æ–Ω–ª–∞–π–Ω –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ Swagger UI
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ —Ç–µ–≥–∏ –≤ Swagger UI
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã endpoints —Å –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- [ ] –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –Ω–æ–≤—ã–µ endpoints - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –Ω–æ–≤—ã–µ endpoints - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∫–æ–¥

## üìù –ü—Ä–∏–º–µ—Ä—ã –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö endpoints

–ï—Å–ª–∏ –≤—ã –Ω–∞—à–ª–∏ endpoints –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, –¥–æ–±–∞–≤—å—Ç–µ –∏—Ö —Å—é–¥–∞:

### –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

```
POST /api/device/statistics
- –û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–∫–∞–∑–∞–Ω–∏–π —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - device_id (integer, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
  - startDate (integer, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
  - stopDate (integer, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
- –û—Ç–≤–µ—Ç: { min, max, avg, total_consumption, count }
```

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- –û–Ω–ª–∞–π–Ω –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://beliot.by:4443/api/documentation
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: `docs/beliot-api-openapi.json`
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–±–æ—Ç–µ —Å API: `docs/HOW_TO_USE_BELIOT_API_SPEC.md`
- –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞: `docs/BELIOT_API_QUICK_REFERENCE.md`
