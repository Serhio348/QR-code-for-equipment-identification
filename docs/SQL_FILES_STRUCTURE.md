# Структура SQL файлов проекта

## Основные файлы

### `supabase-schema.sql`
**Главный файл схемы базы данных**
- Содержит полную схему базы данных
- Идемпотентен (можно выполнять многократно)
- Используется для первоначальной настройки и обновления схемы
- **НЕ УДАЛЯТЬ** - это основной файл

## Папки

### `migrations/`
**Миграции базы данных**
- Файлы для добавления новых функций/таблиц/полей
- Выполняются один раз при внедрении новой функциональности
- Можно оставить для истории после выполнения
- См. `migrations/README.md`

### `queries/`
**Справочные SQL запросы**
- Примеры запросов для работы с данными
- Используются для отладки и справки
- Не изменяют структуру базы данных
- См. `queries/README.md`

### `archive/`
**Архив исправлений**
- SQL скрипты для исправления проблем
- Уже выполнены и применены
- Можно удалить после подтверждения работоспособности
- См. `archive/README.md`

## Рекомендации

1. **Основная схема** (`supabase-schema.sql`) - всегда актуальна, содержит все изменения
2. **Миграции** - можно оставить для истории или удалить после включения в основную схему
3. **Исправления** (в `archive/`) - можно удалить через 1-2 недели после подтверждения
4. **Справочные запросы** - оставить для справки

## Порядок выполнения

1. Сначала выполните `supabase-schema.sql` (основная схема)
2. Затем миграции из `migrations/` (если есть новые)
3. Исправления из `archive/` только если возникла проблема

