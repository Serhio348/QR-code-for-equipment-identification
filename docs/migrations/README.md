# Миграции базы данных

## Описание

Этот каталог содержит SQL миграции для управления структурой базы данных Supabase.

## Доступные миграции

### create-workshops-table.sql
Создает таблицу `workshops` для управления участками предприятия.

**Когда выполнять:**
- При переносе управления участками из Google Sheets в Supabase
- При первой настройке системы

**Что делает:**
- Создает таблицу `workshops` с полями: id, name, description, created_at, updated_at
- Настраивает RLS политики (все пользователи могут читать, только админы могут изменять)
- Создает триггер для автоматического обновления `updated_at`

**Как выполнить:**
1. Откройте Supabase Dashboard → SQL Editor
2. Скопируйте содержимое файла `create-workshops-table.sql`
3. Выполните SQL запрос

## Дополнительная информация

Подробное описание стратегии управления хранилищем и расчеты объема данных см. в:
- `DATABASE_STORAGE_MANAGEMENT.md` - общая стратегия управления хранилищем
- `STORAGE_CALCULATION_20_DEVICES.md` - детальный расчет для 20 устройств
