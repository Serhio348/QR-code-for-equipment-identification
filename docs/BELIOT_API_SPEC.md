# Beliot API OpenAPI –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

## –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **API**: NEKTA CORE API
- **–í–µ—Ä—Å–∏—è**: 2.0.8 Alpha
- **OpenAPI –≤–µ—Ä—Å–∏—è**: 3.0.0
- **URL –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**: https://beliot.by:4443/api/documentation
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è**: `docs/beliot-api-openapi.json`

## üìñ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π

**–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ**: [HOW_TO_USE_BELIOT_API_SPEC.md](./HOW_TO_USE_BELIOT_API_SPEC.md)

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –ö–∞–∫ —á–∏—Ç–∞—Ç—å OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é
- –ü–æ—à–∞–≥–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- –ß–µ–∫–ª–∏—Å—Ç –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö endpoints

## –û—Å–Ω–æ–≤–Ω—ã–µ endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/auth/login` - –í—Ö–æ–¥ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ Bearer token
- `GET /api/auth/logout` - –í—ã—Ö–æ–¥

### –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- `POST /api/device/metering_devices` - –°–ø–∏—Å–æ–∫ —Å—á–µ—Ç—á–∏–∫–æ–≤
- `POST /api/device/metering_device/{id}` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
- `POST /api/device/messages` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (–ø–æ–∫–∞–∑–∞–Ω–∏—è –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏)

### –ê–±–æ–Ω–µ–Ω—Ç—ã
- `POST /api/abonent/main/data` - –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∞–±–æ–Ω–µ–Ω—Ç–∞
- `POST /api/abonent/point/messages` - –°–æ–æ–±—â–µ–Ω–∏—è –ø–æ —Ç–æ—á–∫–∞–º —É—á–µ—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–æ–≤
- `POST /api/objects/accounting_point/list` - –°–ø–∏—Å–æ–∫ —Ç–æ—á–µ–∫ —É—á–µ—Ç–∞
- `POST /api/objects/accounting_point/messages` - –°–æ–æ–±—â–µ–Ω–∏—è –ø–æ —Ç–æ—á–∫–∞–º —É—á–µ—Ç–∞

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤–∞ —Ç–∏–ø–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:
1. **Bearer Token** (`bearerAuth`) - –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ endpoints
2. **Token** (`token`) - –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö endpoints –∞–±–æ–Ω–µ–Ω—Ç–æ–≤

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:
- `src/services/api/beliotApi.ts` - –±–∞–∑–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç API
- `src/services/api/beliotAuthApi.ts` - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `src/services/api/beliotDeviceApi.ts` - —Ä–∞–±–æ—Ç–∞ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑–∞–Ω–∏–π

### ‚úÖ –ù–∞–π–¥–µ–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ endpoints –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏!

–í –ø–æ–ª–Ω–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ **47 endpoints** –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –æ—Ç—á–µ—Ç–æ–≤:

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∏–ª–ª–∏–Ω–≥–∞
- `POST /api/statistics/company/current/billing` - —Ç–µ–∫—É—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∏–ª–ª–∏–Ω–≥–∞ –∫–æ–º–ø–∞–Ω–∏–∏
- `POST /api/statistics/subcompany/billing` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∏–ª–ª–∏–Ω–≥–∞ –ø–æ–¥–∫–æ–º–ø–∞–Ω–∏–∏
- `POST /api/admin/statistics/company/billing` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∏–ª–ª–∏–Ω–≥–∞ –∫–æ–º–ø–∞–Ω–∏–∏ (–∞–¥–º–∏–Ω)
- `POST /api/statistics/new_billing/subcompany` - –Ω–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∏–ª–ª–∏–Ω–≥–∞ –ø–æ–¥–∫–æ–º–ø–∞–Ω–∏–∏
- `POST /api/statistics/billing/category/list` - —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –±–∏–ª–ª–∏–Ω–≥–∞

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- `POST /api/statistics/company/current/devices` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∫–æ–º–ø–∞–Ω–∏–∏
- `POST /api/statistics/subcompany/devices` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –ø–æ–¥–∫–æ–º–ø–∞–Ω–∏–∏
- `POST /api/admin/statistics/company/devices` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∫–æ–º–ø–∞–Ω–∏–∏ (–∞–¥–º–∏–Ω)

#### –û—Ç—á–µ—Ç—ã
- `POST /api/report/create/single` - —Å–æ–∑–¥–∞—Ç—å –æ–¥–∏–Ω–æ—á–Ω—ã–π –æ—Ç—á–µ—Ç
- `POST /api/report/create/group` - —Å–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø–æ–≤–æ–π –æ—Ç—á–µ—Ç
- `POST /api/report/create/group/structure` - —Å–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø–æ–≤–æ–π –æ—Ç—á–µ—Ç –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
- `POST /api/report/create/group/balance` - —Å–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø–æ–≤–æ–π –æ—Ç—á–µ—Ç –ø–æ –±–∞–ª–∞–Ω—Å—É
- `POST /api/report/list` - —Å–ø–∏—Å–æ–∫ –æ—Ç—á–µ—Ç–æ–≤
- `POST /api/report/data` - –¥–∞–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç–∞
- `POST /api/report/file` - —Ñ–∞–π–ª –æ—Ç—á–µ—Ç–∞
- `POST /api/report/templates/available` - –¥–æ—Å—Ç—É–ø–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –æ—Ç—á–µ—Ç–æ–≤

#### –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤
- `POST /api/task/report/create` - —Å–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É –Ω–∞ –æ—Ç—á–µ—Ç
- `POST /api/task/report/list/` - —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –Ω–∞ –æ—Ç—á–µ—Ç—ã

### –ë–∞–∑–æ–≤—ã–π —Å–ø–æ—Å–æ–± (–µ—Å–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ endpoints –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã)

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–∫–∞–∑–∞–Ω–∏–π –ø—Ä–∏–±–æ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è endpoint:
- `POST /api/device/messages` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è –∑–∞ –ø–µ—Ä–∏–æ–¥

–ò–∑ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å:
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ/–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- –°—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- –û–±—â–µ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ (—Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –ø–µ—Ä–≤—ã–º –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–º –ø–æ–∫–∞–∑–∞–Ω–∏–µ–º)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∫–∞–∑–∞–Ω–∏–π

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**: —Å–º. `BELIOT_API_QUICK_REFERENCE.md` ‚Üí —Ä–∞–∑–¥–µ–ª "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑–∞–Ω–∏–π –ø—Ä–∏–±–æ—Ä–æ–≤"

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö endpoints**: —Å–º. [CHECK_STATISTICS_ENDPOINTS.md](./CHECK_STATISTICS_ENDPOINTS.md)

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
npm run check-statistics
```

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–ª–Ω–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏:
```bash
npm run save-openapi-spec
```

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- API –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏ –∏–ª–∏ —á–µ—Ä–µ–∑ VPN
- ‚úÖ **–ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞**: —Å–æ–¥–µ—Ä–∂–∏—Ç **227 endpoints** (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)
- –í—Å–µ endpoints —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–∫—Ä–æ–º–µ `/api/auth/login`)
- –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏: `npm run save-openapi-spec`
