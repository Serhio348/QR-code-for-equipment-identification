/**
 * SpecField.tsx
 * 
 * НАЗНАЧЕНИЕ:
 * Универсальный переиспользуемый компонент для отображения одного поля спецификации.
 * Используется всеми типами оборудования для создания полей ввода.
 * 
 * АРХИТЕКТУРА:
 * - Базовый строительный блок для всех полей спецификаций
 * - Инкапсулирует стандартную структуру: label + input
 * - Упрощает создание новых полей (не нужно дублировать разметку)
 * 
 * ИСПОЛЬЗОВАНИЕ:
 * Используется внутри компонентов типа *SpecFields.tsx для создания полей
 * Пример: <SpecField label="Мощность" value={specs.power} onChange={...} />
 */

import React from 'react';

/**
 * Интерфейс пропсов компонента SpecField
 * 
 * @param label - Текст метки поля (отображается перед input)
 * @param value - Текущее значение поля (контролируемый компонент)
 * @param onChange - Callback функция, вызываемая при изменении значения
 * @param placeholder - Подсказка внутри input (опционально)
 * @param type - Тип input: 'text' (по умолчанию) или 'number'
 * @param required - Флаг обязательности поля (добавляет * к label)
 */
interface SpecFieldProps {
  label: string;              // Текст метки (например: "Мощность")
  value: string;              // Текущее значение из specs
  onChange: (value: string) => void;  // Функция обновления значения
  placeholder?: string;        // Подсказка (например: "Например: 5,5 кВт")
  type?: 'text' | 'number';   // Тип input поля
  required?: boolean;          // Обязательное ли поле
}

/**
 * Компонент SpecField
 * 
 * ЛОГИКА РАБОТЫ:
 * 1. Принимает пропсы с метаданными поля (label, placeholder)
 * 2. Отображает label с опциональной звездочкой (*) для обязательных полей
 * 3. Рендерит input с текущим value
 * 4. При изменении вызывает onChange с новым значением
 * 
 * ПРЕИМУЩЕСТВА:
 * - Единообразный стиль всех полей
 * - Легко добавлять новые поля (1 строка вместо 10)
 * - Централизованное управление структурой поля
 */
export const SpecField: React.FC<SpecFieldProps> = ({
  label,        // Текст метки
  value,        // Текущее значение
  onChange,     // Функция обновления
  placeholder,  // Подсказка (опционально)
  type = 'text', // Тип поля (по умолчанию text)
  required = false // Обязательность (по умолчанию false)
}) => {
  return (
    <div className="form-group">
      {/* 
        Метка поля: добавляем звездочку (*) если поле обязательное
        Пример: "Мощность *" или просто "Мощность"
      */}
      <label>{label}{required && ' *'}</label>
      
      {/* 
        Input поле:
        - type: тип поля (text или number)
        - value: контролируемое значение (связь с state)
        - onChange: при изменении вызываем onChange с новым значением
        - placeholder: подсказка для пользователя
        - required: HTML5 валидация обязательности
      */}
      <input
        type={type}
        value={value}
        onChange={(e) => onChange(e.target.value)}  // Передаем новое значение вверх
        placeholder={placeholder}
        required={required}
      />
    </div>
  );
};

